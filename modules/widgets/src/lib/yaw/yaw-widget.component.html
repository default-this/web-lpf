<lib-widget [title]="title"
            [canBeEdited]="canBeEdited"
            [canBeDeleted]="canBeDeleted"
            (edit)="onEdit()"
            (delete)="onDelete()"
>
    <div class="roll-content">
        <lib-tilt-gauge [tiltDegrees]="yaw ?? null"
                        [options]="options"
                        [iconTemplate]="yawIcon"
                        class="roll-gauge"
        ></lib-tilt-gauge>

        <ng-template #yawIcon>
            <svg xmlns="http://www.w3.org/2000/svg"
                 viewBox="0 0 100 100"
            >
                <g class="yaw-icon">
                    <path d="M 50 25 L 30 65 L 50 75 L 70 65 z" class="yaw-icon__outline"></path>
                    <path d="M 50 25 L 50 60 L 30 65" class="yaw-icon__inline"></path>
                    <path d="M 50 60 L 70 65" class="yaw-icon__inline"></path>
                </g>
            </svg>
        </ng-template>


        <span class="pitch-value">
            @if (yaw !== null) {
                {{ yaw }}Â°
            } @else {
                &nbsp;
            }
        </span>

        <button mat-button
                [disabled]="yaw === null"
                (click)="onCompensate()"
                class="pitch-control-button"
                [title]="'controlScheme.widgets.yaw.compensateButtonTitle' | transloco"
        >
            <mat-icon [fontIcon]="'gps_not_fixed'"></mat-icon>
        </button>
        <button mat-button
                [disabled]="yaw === null"
                class="pitch-control-button"
                (click)="onResetCompensation()"
                [title]="'controlScheme.widgets.yaw.resetCompensationButtonTitle' | transloco"
        >
            <mat-icon [fontIcon]="'gps_off'"></mat-icon>
        </button>
    </div>
</lib-widget>
