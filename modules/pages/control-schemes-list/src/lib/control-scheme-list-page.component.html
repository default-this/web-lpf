<ng-container *ngrxLet="controlSchemes$; let controlSchemes">
    <ng-container *ngIf="controlSchemes?.length; else noControlSchemes">
        <ul>
            <li *ngFor="let scheme of controlSchemes; trackBy: trackSchemeById"
                class="card-list-item"
            >
                <ng-container *ngIf="isSmallScreen$ | ngrxPush; else largeScreen">
                    <a class="small-screen-nav-button"
                       [routerLink]="scheme | controlSchemeViewUrl"
                    >
                        <mat-card>
                            <mat-card-header class="control-scheme-name-container">
                                <mat-card-title>
                                    <span class="small-screen-nav-title">{{ scheme.name }}</span>
                                </mat-card-title>
                            </mat-card-header>
                        </mat-card>
                    </a>
                </ng-container>
                <ng-template #largeScreen>
                    <mat-card>
                        <mat-card-header class="control-scheme-name-container">
                            <mat-card-title>
                                <a mat-button
                                   [routerLink]="scheme | controlSchemeViewUrl"
                                >
                                    {{ scheme.name }}
                                </a>
                            </mat-card-title>
                            <button mat-button
                                    class="toolbar-button"
                                    (click)="onExport(scheme.name)"
                                    [title]="'controlScheme.export' | transloco"
                            >
                                {{ 'controlScheme.export' | transloco }}
                            </button>
                            <button mat-button
                                    class="toolbar-button"
                                    [color]="'warn'"
                                    (click)="onDelete(scheme.name)">
                                {{ 'controlScheme.delete' | transloco }}
                            </button>
                        </mat-card-header>
                    </mat-card>
                </ng-template>
            </li>
        </ul>
    </ng-container>

    <ng-template #noControlSchemes>
        <lib-hint>
            {{ 'controlScheme.noControlSchemes' | transloco }}
        </lib-hint>
    </ng-template>
</ng-container>

<div *libFeatureToolbarControls>
    <button mat-raised-button
            class="toolbar-button"
            (click)="onImport()"
    >
        {{ 'controlScheme.import' | transloco }}
    </button>
    <button mat-raised-button
            class="toolbar-button"
            [disabled]="!(canCreateScheme$ | ngrxPush)"
            (click)="onCreate()"
    >
        {{ 'controlScheme.create' | transloco }}
    </button>
</div>
