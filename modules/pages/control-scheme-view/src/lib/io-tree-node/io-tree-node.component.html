@if (viewModel$ | ngrxPush; as viewModel) {
    @if (isSmallScreen$ | ngrxPush) {
        <page-control-scheme-view-io-inline-view [portId]="viewModel.portId"
                                                 [isConnected]="viewModel.isConnected"
        ></page-control-scheme-view-io-inline-view>
    } @else {
        <page-control-scheme-view-io-inline-view [portId]="viewModel.portId"
                                                 [ioType]="viewModel.ioType"
                                                 [isConnected]="viewModel.isConnected"
        ></page-control-scheme-view-io-inline-view>
    }

    @if (viewModel.useAccelerationProfile || viewModel.useDecelerationProfile) {
        <a class="port-config"
           [routerLink]="portConfigRoute"
        >
            @if (viewModel.useAccelerationProfile) {
                <span class="port-profile"
                      [title]="'controlScheme.accelerationTimeMs' | transloco"
                >
                <mat-icon [fontIcon]="'north_east'"></mat-icon>
                {{ viewModel.accelerationTimeMs }}{{ 'controlScheme.profileTimingPostfix' | transloco }}
                </span>
            }

            @if (viewModel.useDecelerationProfile) {
                <span class="port-profile"
                      [title]="'controlScheme.decelerationTimeMs' | transloco"
                >
                    <mat-icon [fontIcon]="'south_east'"></mat-icon>
                    {{ viewModel.decelerationTimeMs }}{{ 'controlScheme.profileTimingPostfix' | transloco }}
                </span>
            }
        </a>

    }

    @if (viewModel.runningTask) {
        <mat-icon [fontIcon]="'sync'"></mat-icon>
        {{ viewModel.runningTask | portCommandTaskSummary | ngrxPush }}
    }

    @if (viewModel.lastExecutedTask && !viewModel.runningTask) {
        <mat-icon [fontIcon]="'check_circle'"></mat-icon>
        {{ viewModel.lastExecutedTask | portCommandTaskSummary | ngrxPush }}
    }
}
