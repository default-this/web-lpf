<mat-toolbar color="primary"
             class="toolbar"
>
    <h1 class="cdk-visually-hidden">
        {{ 'appName' | transloco }}
    </h1>
    <nav class="nav">
        <a mat-icon-button
           [routerLink]="routesBuilderService.controllersList"
           [routerLinkActive]="'active-link'"
           [title]="'nav.controllersList' | transloco"
           [matBadge]="connectedControllersCount"
           [matBadgeColor]="'primary'"
           [matBadgeHidden]="!connectedControllersCount"
           [attr.aria-label]="'nav.controllersList' | transloco"
        >
            <mat-icon [fontIcon]="'gamepad'"></mat-icon>
        </a>

        <a mat-icon-button
           [routerLink]="routesBuilderService.hubsList"
           [routerLinkActive]="'active-link'"
           [title]="'nav.hubsList' | transloco"
           [matBadge]="connectedHubCount"
           [matBadgeColor]="'primary'"
           [matBadgeHidden]="!connectedHubCount"
        >
            <mat-icon [fontIcon]="'memory'"></mat-icon>
        </a>

        <a mat-icon-button
           [routerLink]="routesBuilderService.controlSchemesList"
           [routerLinkActive]="'active-link'"
           [title]="'nav.controlSchemesList' | transloco"
           [matBadge]="controlSchemesCount"
           [matBadgeColor]="'primary'"
           [matBadgeHidden]="!controlSchemesCount"
        >
            <mat-icon [fontIcon]="'display_settings'"></mat-icon>
        </a>

        <ng-container *ngIf="isBluetoothAvailable | ngrxPush; else bluetoothUnavailable">
            <button mat-fab
                    color="accent"
                    [title]="'discoverHub' | transloco"
                    (click)="onDiscoveryStart()"
                    [attr.aria-label]="'discoverHub' | transloco"
                    [disabled]="isDiscoveryBusy"
            >
                <mat-icon [fontIcon]="'bluetooth_searching'"></mat-icon>
            </button>
        </ng-container>

        <ng-template #bluetoothUnavailable>
            <a mat-fab
               color="warn"
               [routerLink]="routesBuilderService.bluetoothUnavailable"
               [title]="'bluetoothIsNotAvailable' | transloco"
               appEllipsisTitle
            >
                <mat-icon [fontIcon]="'bluetooth_disabled'"></mat-icon>
                <span class="cdk-visually-hidden">{{ 'bluetoothIsNotAvailable' | transloco }}</span>
            </a>
        </ng-template>

        <button mat-icon-button
                [matMenuTriggerFor]="menu"
                [attr.aria-label]="'nav.navMenuAriaLabel' | ngrxPush">
            <mat-icon>more_vert</mat-icon>
        </button>

        <mat-menu #menu="matMenu">
            <a mat-menu-item
               [routerLink]="routesBuilderService.settings"
               [routerLinkActive]="'active-link'"
               [attr.aria-label]="'nav.settingsPageButton' | transloco"
            >
                <mat-icon [fontIcon]="'settings'"></mat-icon>
                <span>{{ 'nav.settingsPageButton' | transloco }}</span>
            </a>
            <a mat-menu-item
               [routerLink]="routesBuilderService.about"
               [routerLinkActive]="'active-link'"
               [attr.aria-label]="'nav.aboutPageButton' | transloco"
            >
                <mat-icon [fontIcon]="'info'"></mat-icon>
                <span>{{ 'nav.aboutPageButton' | transloco }}</span>
            </a>
        </mat-menu>
    </nav>
</mat-toolbar>
