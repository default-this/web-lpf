<mat-toolbar color="primary"
             class="toolbar"
>
    <span class="cdk-visually-hidden">
        <h1 class="title">
            {{ 'appTitle' | transloco }}
        </h1>
    </span>
    <nav class="nav">
        <a mat-icon-button
           [routerLink]="routesBuilderService.controllersList"
           [routerLinkActive]="'active-link'"
           [title]="'nav.controllersList' | transloco"
           [matBadge]="connectedControllersCount"
           [matBadgeColor]="'primary'"
           [matBadgeHidden]="!connectedControllersCount"
        >
            <mat-icon [fontIcon]="'gamepad'"></mat-icon>
        </a>

        <a mat-icon-button
           [routerLink]="routesBuilderService.hubsList"
           [routerLinkActive]="'active-link'"
           [title]="'nav.hubsList' | transloco"
           [matBadge]="connectedHubCount"
           [matBadgeColor]="'primary'"
           [matBadgeHidden]="!connectedHubCount"
        >
            <mat-icon [fontIcon]="'memory'"></mat-icon>
        </a>

        <a mat-icon-button
           [routerLink]="routesBuilderService.controlSchemesList"
           [routerLinkActive]="'active-link'"
           [title]="'nav.controlSchemesList' | transloco"
           [matBadge]="controlSchemesCount"
           [matBadgeColor]="'primary'"
           [matBadgeHidden]="!controlSchemesCount"
        >
            <mat-icon [fontIcon]="'display_settings'"></mat-icon>
        </a>

        <ng-container *ngIf="isBluetoothAvailable | ngrxPush; else bluetoothUnavailable">
            <button mat-fab
                    color="accent"
                    [title]="'discoverHub' | transloco"
                    (click)="onDiscoveryStart()"
                    [attr.aria-label]="'discoverHub' | transloco"
                    [disabled]="isDiscoveryBusy"
            >
                <mat-icon [fontIcon]="'bluetooth_searching'"></mat-icon>
            </button>
        </ng-container>

        <ng-template #bluetoothUnavailable>
            <a mat-fab
               color="warn"
               [routerLink]="routesBuilderService.bluetoothUnavailable"
               [title]="'bluetoothUnavailableToolbarTitle' | transloco"
               appEllipsisTitle
            >
                <mat-icon [fontIcon]="'bluetooth_disabled'"></mat-icon>
                <span class="cdk-visually-hidden">{{ 'bluetoothUnavailableToolbarTitle' | transloco }}</span>
            </a>
        </ng-template>

        <a mat-icon-button
           [routerLink]="routesBuilderService.about"
           [routerLinkActive]="'active-link'"
           [title]="'nav.aboutPageButton' | transloco"
           [attr.aria-label]="'nav.aboutPageButton' | transloco"
        >
            <mat-icon [fontIcon]="'info'"></mat-icon>
        </a>
    </nav>
</mat-toolbar>
