<ng-container *ngIf="editedHubConfiguration$ | ngrxPush; let hubConfiguration; else hubIsNotFound">
    <section *ngIf="isHubConnected$ | ngrxPush; else hubIsNotConnected"
             class="edit-form-container"
    >
        <mat-card class="card">
            <mat-card-header>
                <mat-card-title>{{ hubConfiguration.name }}</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <mat-form-field>
                    <mat-label>{{ 'hub.name' | transloco }}</mat-label>
                    <input matInput [formControl]="form.controls.name"/>
                    <mat-error [libValidationMessages]="form.controls.name"
                               [l10nMap]="validationErrorsMap"
                    ></mat-error>
                </mat-form-field>
            </mat-card-content>
        </mat-card>

        <div *libFeatureToolbarControls
             class="toolbar-panel"
        >
            <button mat-raised-button
                    [disabled]="(isSaving$ | ngrxPush) || form.controls.name.invalid"
                    (click)="onSave(hubConfiguration.hubId)"
            >
                {{ 'hub.save' | transloco }}
            </button>
            <a mat-raised-button
               [routerLink]="cancelPath$ | ngrxPush"
               [disabled]="!!(isSaving$ | ngrxPush)"
            >
                {{ 'hub.cancel' | transloco }}
            </a>
        </div>
    </section>

    <ng-template #hubIsNotConnected>
        <lib-hint>{{ 'hub.isNotConnected' | transloco: hubConfiguration }}</lib-hint>
    </ng-template>
</ng-container>

<ng-template #hubIsNotFound>
    <lib-hint>{{ 'hub.isNotFound' | transloco }}</lib-hint>
</ng-template>

