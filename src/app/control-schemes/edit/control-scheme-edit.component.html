<ng-container *ngIf="currentlyEditedScheme$ | ngrxPush; let scheme; else schemeNotFound">
    <app-feature-toolbar [title]="'controlSchemeEditToolbarTitle' | transloco: scheme">
        <span class="spacer"></span>
        <button mat-stroked-button
                class="toolbar-button"
                [disabled]="!form.isValid || !!(isSchemeRunning$ | ngrxPush)"
                (click)="onSave(form.getFormValue())">
            {{ 'saveEditedScheme' | transloco }}
        </button>
        <a mat-stroked-button
           class="toolbar-button"
           [routerLink]="['..']"
           [disabled]="!!(isSchemeRunning$ | ngrxPush)"
        >
            {{ 'cancelEditScheme' | transloco }}
        </a>
    </app-feature-toolbar>

    <app-feature-content-container>
        <app-control-scheme-edit-form class="edit-form"
                                      #form
                                      [scheme]="scheme"
        ></app-control-scheme-edit-form>
    </app-feature-content-container>
</ng-container>

<ng-template #schemeNotFound>
    <app-feature-toolbar [title]="'controlSchemeEditNotFoundToolbarTitle' | ngrxPush"></app-feature-toolbar>

    <app-feature-content-container>
        <h3 class="scheme-is-not-found">{{ 'schemeIsNotFound' | transloco }}</h3>
    </app-feature-content-container>
</ng-template>
