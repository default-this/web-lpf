<ng-container *ngIf="currentlyEditedScheme$ | ngrxPush; let scheme; else schemeNotFound">
    <app-control-scheme-edit-form class="edit-form"
                                  #form
                                  [scheme]="scheme"
    ></app-control-scheme-edit-form>

    <ng-template #controlsTemplate>
        <ng-container *ngIf="currentlyEditedScheme$ | ngrxPush; let scheme">
            <button mat-stroked-button
                    class="toolbar-button"
                    [disabled]="!form.isValid || !!(isSchemeRunning$ | ngrxPush)"
                    (click)="onSave(form.getFormValue())">
                {{ 'saveEditedScheme' | transloco }}
            </button>
            <a mat-stroked-button
               class="toolbar-button"
               [routerLink]="cancelViewUrl$ | ngrxPush"
               [disabled]="!!(isSchemeRunning$ | ngrxPush)"
            >
                {{ 'cancelEditScheme' | transloco }}
            </a>
        </ng-container>
    </ng-template>

</ng-container>

<ng-template #schemeNotFound>
    <h3 class="scheme-is-not-found">{{ 'schemeIsNotFound' | transloco }}</h3>
</ng-template>
