<mat-form-field>
    <mat-label>{{ 'controlScheme.nameField' | transloco }}</mat-label>
    <input type="text"
           [formControl]="form.controls.name"
           matInput
    />
</mat-form-field>

<mat-card *ngFor="let binding of form.controls.bindings.controls; let index = index"
          class="binding"
>
    <mat-card-content class="binding-details"
                      [class.binding-details_small-screen]="isSmallScreen"
    >
        <app-control-scheme-binding-input [inputFormGroup]="binding.controls.input"></app-control-scheme-binding-input>
        <mat-divider *ngIf="!isSmallScreen"
                     [vertical]="true"
        ></mat-divider>
        <app-control-scheme-binding-output [formGroup]="binding"></app-control-scheme-binding-output>
        <mat-divider *ngIf="!isSmallScreen"
                     [vertical]="true"
        ></mat-divider>
        <app-control-scheme-binding-configuration [formGroup]="binding"></app-control-scheme-binding-configuration>
    </mat-card-content>
    <mat-card-actions [align]="'end'">
        <button mat-flat-button
                (click)="removeBindingIndex(index)"
        >
            {{ 'controlScheme.deleteBinding' | transloco }}
        </button>
    </mat-card-actions>
</mat-card>

<ng-template #controlsTemplate>
    <button mat-raised-button
            class="toolbar-button"
            [disabled]="!(canAddBinding$ | ngrxPush)"
            (click)="addBinding()"
    >
        {{ 'controlScheme.addBinding' | transloco }}
    </button>
    <button mat-raised-button
            class="toolbar-button"
            [disabled]="!form.valid"
            (click)="onSave()">
        {{ 'controlScheme.saveEdited' | transloco }}
    </button>
    <button mat-raised-button
            class="toolbar-button"
            (click)="onCancel()"
    >
        {{ 'controlScheme.cancelEdit' | transloco }}
    </button>
</ng-template>
